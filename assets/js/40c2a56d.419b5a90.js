"use strict";(self.webpackChunkmini_collection=self.webpackChunkmini_collection||[]).push([[301],{9613:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>m});var r=t(9496);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=r.createContext({}),c=function(e){var n=r.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(s.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},f=r.forwardRef((function(e,n){var t=e.components,o=e.mdxType,a=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),f=c(t),m=o,d=f["".concat(s,".").concat(m)]||f[m]||u[m]||a;return t?r.createElement(d,i(i({ref:n},p),{},{components:t})):r.createElement(d,i({ref:n},p))}));function m(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=t.length,i=new Array(a);i[0]=f;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var c=2;c<a;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}f.displayName="MDXCreateElement"},978:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var r=t(665),o=(t(9496),t(9613));const a={sidebar_position:1},i="Common functions",l={unversionedId:"common-functions",id:"common-functions",title:"Common functions",description:"Day of the year",source:"@site/docs/common-functions.md",sourceDirName:".",slug:"/common-functions",permalink:"/mini-collection/docs/common-functions",draft:!1,editUrl:"https://github.com/quoc1707/mini-collection/tree/main/docs/common-functions.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar"},s={},c=[{value:"Day of the year",id:"day-of-the-year",level:2},{value:"Deep comparison of objects",id:"deep-comparison-of-objects",level:2},{value:"File download",id:"file-download",level:2},{value:"Filename RegExp",id:"filename-regexp",level:2},{value:"JSON formatting",id:"json-formatting",level:2},{value:"Vietnamese accent removal",id:"vietnamese-accent-removal",level:2}],p={toc:c};function u(e){let{components:n,...t}=e;return(0,o.kt)("wrapper",(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"common-functions"},"Common functions"),(0,o.kt)("h2",{id:"day-of-the-year"},"Day of the year"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const daysIntoYear = (date: Date): number => {\n    return (\n        (Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()) -\n            Date.UTC(date.getFullYear(), 0, 0)) /\n        24 /\n        60 /\n        60 /\n        1000\n    )\n}\n")),(0,o.kt)("h2",{id:"deep-comparison-of-objects"},"Deep comparison of objects"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"interface Object {\n    isEqual(other: Object): boolean\n}\n\nObject.prototype.isEqual = function (other) {\n    for (let p in this) {\n        if (typeof this[p] !== typeof other[p]) return false\n\n        if ((this[p] === null) !== (other[p] === null)) return false\n\n        switch (typeof this[p]) {\n            case 'undefined':\n                if (typeof other[p] !== 'undefined') return false\n                break\n            case 'object':\n                if (\n                    this[p] !== null &&\n                    other[p] !== null &&\n                    (this[p].constructor.toString() !==\n                        other[p].constructor.toString() ||\n                        !this[p].isEqual(other[p]))\n                )\n                    return false\n                break\n            case 'function':\n                if (\n                    p !== 'isEqual' &&\n                    this[p].toString() !== other[p].toString()\n                )\n                    return false\n                break\n            default:\n                if (this[p] !== other[p]) return false\n        }\n    }\n    return true\n}\n")),(0,o.kt)("h2",{id:"file-download"},"File download"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { createWriteStream, unlink } from 'fs'\n\nimport http from 'http'\nimport https from 'https'\n\nconst protocol = url.startsWith('http://') ? http : https\n\nconst download = (url: string, destination: string) => {\n    return new Promise((resolve, reject) => {\n        const file = createWriteStream(destination, { flags: 'w' })\n\n        const request = protocol.get(url, (response) => {\n            if (response.statusCode === 200) response.pipe(file)\n            else {\n                file.close()\n                unlink(destination, () => {})\n                reject(\n                    `Server responded with ${response.statusCode}: ${response.statusMessage}.`\n                )\n            }\n        })\n\n        request.on('error', (error) => {\n            file.close()\n            unlink(destination, () => {})\n            reject(error.message)\n        })\n\n        file.on('finish', () => resolve())\n\n        file.on('error', (error) => {\n            file.close()\n\n            if (error.code === 'EEXIST') reject('File already exists.')\n            else reject(error.message)\n        })\n    })\n}\n")),(0,o.kt)("h2",{id:"filename-regexp"},"Filename RegExp"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const standardizeFilename = (str: string): string => {\n    let text = str\n        .replace(/[^\\x00-\\x7F]/gm, '')\n        .replace(/(\\\\|\\/|\\:|\\*|\\?|\\\"|\\<|\\>|\\||\\,|\\-)/gm, ' ')\n        .replace(/\\s{1,}/g, '_')\n    return text\n}\n")),(0,o.kt)("h2",{id:"json-formatting"},"JSON formatting"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { writeFile } from 'fs'\n\nconst writeFormattedData = (\n    data: any,\n    path: string,\n    indentation: number | string\n) => {\n    writeFile(path, JSON.stringify(data, null, indentation), (error) => {\n        if (error) {\n            console.error(error)\n            return\n        }\n    })\n}\n")),(0,o.kt)("h2",{id:"vietnamese-accent-removal"},"Vietnamese accent removal"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"const convertVietnameseToNonAccent = (str: string): string => {\n    let text = str\n        .replace(/A|\xc1|\xc0|\xc3|\u1ea0|\xc2|\u1ea4|\u1ea6|\u1eaa|\u1eac|\u0102|\u1eae|\u1eb0|\u1eb4|\u1eb6/g, 'A')\n        .replace(/\xe0|\xe1|\u1ea1|\u1ea3|\xe3|\xe2|\u1ea7|\u1ea5|\u1ead|\u1ea9|\u1eab|\u0103|\u1eb1|\u1eaf|\u1eb7|\u1eb3|\u1eb5/g, 'a')\n        .replace(/E|\xc9|\xc8|\u1ebc|\u1eb8|\xca|\u1ebe|\u1ec0|\u1ec4|\u1ec6/, 'E')\n        .replace(/\xe8|\xe9|\u1eb9|\u1ebb|\u1ebd|\xea|\u1ec1|\u1ebf|\u1ec7|\u1ec3|\u1ec5/g, 'e')\n        .replace(/I|\xcd|\xcc|\u0128|\u1eca/g, 'I')\n        .replace(/\xec|\xed|\u1ecb|\u1ec9|\u0129/g, 'i')\n        .replace(/O|\xd3|\xd2|\xd5|\u1ecc|\xd4|\u1ed0|\u1ed2|\u1ed6|\u1ed8|\u01a0|\u1eda|\u1edc|\u1ee0|\u1ee2/g, 'O')\n        .replace(/\xf2|\xf3|\u1ecd|\u1ecf|\xf5|\xf4|\u1ed3|\u1ed1|\u1ed9|\u1ed5|\u1ed7|\u01a1|\u1edd|\u1edb|\u1ee3|\u1edf|\u1ee1/g, 'o')\n        .replace(/U|\xda|\xd9|\u0168|\u1ee4|\u01af|\u1ee8|\u1eea|\u1eee|\u1ef0/g, 'U')\n        .replace(/\xf9|\xfa|\u1ee5|\u1ee7|\u0169|\u01b0|\u1eeb|\u1ee9|\u1ef1|\u1eed|\u1eef/g, 'u')\n        .replace(/Y|\xdd|\u1ef2|\u1ef8|\u1ef4/g, 'Y')\n        .replace(/\u1ef3|\xfd|\u1ef5|\u1ef7|\u1ef9/g, 'y')\n        .replace(/\u0110/g, 'D')\n        .replace(/\u0111/g, 'd')\n        .replace(/\\u0300|\\u0301|\\u0303|\\u0309|\\u0323/g, '')\n        .replace(/\\u02C6|\\u0306|\\u031B/g, '')\n    return text\n}\n")))}u.isMDXComponent=!0}}]);